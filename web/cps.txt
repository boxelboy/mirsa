SELECT aa.id,aa.type,aa.created,aa.sku,aa.assemblyQty,aa.assemblyQtyCompleted,aa.assemblyQtyQuarantined,aa.ppmLevel,aa.ppmEfficiency,aa.plannedStartDate,aa.plannedEndDate,aa.jobProgressPercent,aa.assemblyStatus,aa.salesOrderNumber,aa.customerName,aa.tradingCompany FROM Mirsa\Bundle\MirsaBundle\Entity\ActivityAssembly aa WHERE aa.assemblyID is not null AND LOWER(aa.type) LIKE :type AND LOWER(aa.customerName) LIKE :customerName